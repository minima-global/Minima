<html>
<head>

	<link rel="stylesheet" type="text/css" href="css/minidapps.css">

</head>

<body style="background-image: url(tile-grey.png);">

<script type="text/javascript">

	//Wait for the page to load..
	window.addEventListener("load", function(){
		
		//Read the file in and convert to BASE64
		var reader = new FileReader();
		reader.onload = function(event) {
		    //What's been read in..
			var contents = event.target.result;
		    console.log("File contents: " + contents);
		
		    //Set it..
			document.getElementById("minidapp64").value = contents;
		    
		    //POST it
			document.getElementById("actual_minidapp").submit();
		};

		reader.onerror = function(event) {
		    console.error("File could not be read! Code " + event.target.error.code);
		};
		
		const inputElement = document.getElementById("file-input");
		inputElement.addEventListener("change", handleFiles, false);
		
		function handleFiles() {
		  const fileList = this.files; /* now you can work with the file list */
		  
		  console.log("FILE : "+fileList[0].name);
		  console.log("SIZE : "+fileList[0].size);
		  console.log("TYPE : "+fileList[0].type);
			
		  //Read in the file
		  reader.readAsDataURL(fileList[0]);
		}
	});
	

	function installDAPP(){
		//Open a file dialog..
		document.getElementById('file-input').click();
	}
	
	function uninstallDAPP(name, root){
		if(confirm("Are you sure you wish to uninstall "+name+" ?")){
			//Uninstall this root app..
			window.location.href="index.html?uninstall="+root;
		}
	}

</script>

<table align="center" style="padding:30;width:80%;height:100%;">
<tr>
<td colspan=2>
	
	<!-- MAIN TITLE -->
	<table class="maintitle" width=100%>
		<tr>
			<td><img src="icon.png" width=100></td> 
			<td width=100%><b>MINIDAPPS</b><br>
			<div style="font-size:12;">
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			&nbsp;&nbsp;&nbsp;
			Powered by Minima</div>
			</td> 
			<td><img src="icon.png" width=100></td>	
		</tr>
	</table>
	
</td>
</tr>

<tr>

<td width=50% height=100% class="minidapplist">
	
	<!--<table width=100%>
		
		
		<tr><td>
			
			<table style='background-size:100%;background-image: url(terminal_back.png);' width=100% height=100 class=minidapp>
			 	<tr>
					<td rowspan=2>
						<img src="terminal_icon.png" height=100>
					</td>
					<td width=100% class="minidappdescription">
						<div style="position:relative">
						<div style="position:absolute;right:10;top:10">UNINSTALL</div>
						<br>
						<div style="font-size:18"><b>TERMINAL</b></div>
						<br>
						This is the description that can go on for at least 2
						 lines sdkjfh kdjfh skjdhf skjdhf ksdjh kjh
						  kjh kjh kjh kjh kj hkj
						</div>
					</td>
				</tr>
				
			</table>
			
		</td></tr>
		
	</table>-->
	
	######
		
</td>

<td width=50% height=100% class="maintitle" style="font-size:14px">

<div style="margin:auto;width:70%;text-align:left">

<b>What is a Smart Contract ?</b><br>
<br>
Smart Contracts are programs that run on Minima.<br>
<br>
They automatically manage money, tokens and value.<br>
<br>
They can be hard to interact with directly.<br>
<br>
<br>
<b>What is a DAPP ?</b><br>
<br>
DAPPs are Decentralised Applications.<br>
<br>
They are front-ends to Smart Contracts.<br>
<br>
They make interacting with Smart Contracts easy.<br>
<br>
<br>
When using a <b>TRUE</b> DAPP..
<br>
<br>
1) No one can stop you using it<br>
<br>
2) No one can censor who you use it with<br>
<br>
3) No one can force a change to it<br>
<br>
4) No one can turn it off<br>
<br>
<br>
<b>MINIDAPPS</b> allow for this type of DAPP and more..
</div>

</td>
</tr>

<tr>
<td colspan=2>

	<table class="mainfooter" width=100%>
		<tr>
			<td width=40% style="text-align:left;" nowrap>
				&nbsp;The <span style="color:#000">E</span><span style="color:#222">v</span><span style="color:#444">o</span><span style="color:#666">l</span><span style="color:#888">u</span><span style="color:#aaa">t</span><span style="color:#666">i</span><span style="color:#ddd">o</span><span style="color:#fff">n</span> will <b>not</b> be Centralised..
			</td>
			
			<td width=20% style="text-align:center;"> 
				<button class="installdapp" onclick="window.location.href='help.html';">&nbsp;HELP&nbsp;</button> 
			</td>
			
			<td width=40% style="text-align:right;" nowrap> 
				<button class="installdapp" onclick="installDAPP();">&nbsp;INSTALL DAPP&nbsp;</button> 	
			</td>
		</tr>
	</table>
	
	<!-- The actual form that is used to upload minidapps -->
	<form id="actual_minidapp" action="installdapp.html" method="post">
        <input type=hidden name=filename value="">
	    <input type=hidden name=filesize value="">
		<input type=hidden id=minidapp64 name=minidata value=""> 
	</form>
	
	<!-- Used to open the select File Dialog.. -->
	<input accept=".minidapp" id="file-input" value="nofile" type="file" name="minidapp" style="display:none;" />
</td>
</tr>
</table>

</body>

</html>